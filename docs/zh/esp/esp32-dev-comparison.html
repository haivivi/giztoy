<!DOCTYPE HTML>
<html lang="zh" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ESP32 å¼€å‘æ–¹æ¡ˆå¯¹æ¯” - Giztoy æ–‡æ¡£</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "rust" : "rust";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Giztoy æ–‡æ¡£</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/haivivi/giztoy" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="esp32-å¼€å‘æ–¹æ¡ˆå¯¹æ¯”åˆ†æ"><a class="header" href="#esp32-å¼€å‘æ–¹æ¡ˆå¯¹æ¯”åˆ†æ">ESP32 å¼€å‘æ–¹æ¡ˆå¯¹æ¯”åˆ†æ</a></h1>
<p>æœ¬æ–‡æ¡£å¯¹æ¯”äº† ESP32 åµŒå…¥å¼å¼€å‘çš„äº”ç§æŠ€æœ¯æ–¹æ¡ˆï¼Œå¸®åŠ©é€‰æ‹©æœ€é€‚åˆé¡¹ç›®éœ€æ±‚çš„å¼€å‘æ–¹å¼ã€‚</p>
<h2 id="ç›®å½•"><a class="header" href="#ç›®å½•">ç›®å½•</a></h2>
<ul>
<li><a href="#%E6%96%B9%E6%A1%88%E6%A6%82%E8%A7%88">æ–¹æ¡ˆæ¦‚è§ˆ</a></li>
<li><a href="#%E6%80%BB%E4%BD%93%E5%AF%B9%E6%AF%94%E8%A1%A8">æ€»ä½“å¯¹æ¯”è¡¨</a></li>
<li><a href="#%E8%AF%A6%E7%BB%86%E5%AF%B9%E6%AF%94">è¯¦ç»†å¯¹æ¯”</a>
<ul>
<li><a href="#1-%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94">æ€§èƒ½å¯¹æ¯”</a></li>
<li><a href="#2-%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E5%AF%B9%E6%AF%94">å†…å­˜å ç”¨å¯¹æ¯”</a></li>
<li><a href="#3-%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%93%E7%A7%AF%E5%AF%B9%E6%AF%94">äºŒè¿›åˆ¶ä½“ç§¯å¯¹æ¯”</a></li>
<li><a href="#4-%E5%8A%9F%E8%80%97%E5%AF%B9%E6%AF%94">åŠŸè€—å¯¹æ¯”</a></li>
<li><a href="#5-%E5%AE%89%E5%85%A8%E6%80%A7%E5%AF%B9%E6%AF%94">å®‰å…¨æ€§å¯¹æ¯”</a></li>
<li><a href="#6-c-%E4%BA%92%E6%93%8D%E4%BD%9C%E6%80%A7%E5%AF%B9%E6%AF%94">C äº’æ“ä½œæ€§å¯¹æ¯”</a></li>
<li><a href="#7-%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C%E5%AF%B9%E6%AF%94">å¼€å‘ä½“éªŒå¯¹æ¯”</a></li>
</ul>
</li>
<li><a href="#%E5%90%84%E6%96%B9%E6%A1%88%E8%AF%A6%E8%A7%A3">å„æ–¹æ¡ˆè¯¦è§£</a>
<ul>
<li><a href="#esp-rs--freertos-std">esp-rs + FreeRTOS</a></li>
<li><a href="#embassy-no_std-async">Embassy</a></li>
<li><a href="#c--esp-idf">C + ESP-IDF</a></li>
<li><a href="#c--esp-idf-1">C++ + ESP-IDF</a></li>
<li><a href="#zig--freertos">Zig + FreeRTOS</a></li>
</ul>
</li>
<li><a href="#%E5%86%B3%E7%AD%96%E5%BB%BA%E8%AE%AE">å†³ç­–å»ºè®®</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90">å‚è€ƒèµ„æº</a></li>
</ul>
<hr />
<h2 id="æ–¹æ¡ˆæ¦‚è§ˆ"><a class="header" href="#æ–¹æ¡ˆæ¦‚è§ˆ">æ–¹æ¡ˆæ¦‚è§ˆ</a></h2>
<div class="table-wrapper"><table><thead><tr><th>æ–¹æ¡ˆ</th><th>æŠ€æœ¯æ ˆ</th><th>æ ¸å¿ƒç‰¹ç‚¹</th></tr></thead><tbody>
<tr><td><strong>esp-rs + FreeRTOS</strong></td><td>Rust + ESP-IDF + FreeRTOS</td><td>å†…å­˜å®‰å…¨ + åŒæ ¸ + ç”Ÿæ€å®Œæ•´</td></tr>
<tr><td><strong>Embassy</strong></td><td>Rust + embassy-executor</td><td>æè‡´åŠŸè€— + å•æ ¸å¼‚æ­¥</td></tr>
<tr><td><strong>C + ESP-IDF</strong></td><td>C + FreeRTOS</td><td>åŸç”Ÿæ€§èƒ½ + æœ€æˆç†Ÿ</td></tr>
<tr><td><strong>C++ + ESP-IDF</strong></td><td>C++ + FreeRTOS</td><td>é¢å‘å¯¹è±¡ + RAII + æ€§èƒ½</td></tr>
<tr><td><strong>Zig + FreeRTOS</strong></td><td>Zig + ESP-IDF</td><td>C çº§æ€§èƒ½ + æ›´å®‰å…¨ + ç¼–è¯‘å¿«</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="æ€»ä½“å¯¹æ¯”è¡¨"><a class="header" href="#æ€»ä½“å¯¹æ¯”è¡¨">æ€»ä½“å¯¹æ¯”è¡¨</a></h2>
<div class="table-wrapper"><table><thead><tr><th>æŒ‡æ ‡</th><th>esp-rs + FreeRTOS</th><th>Embassy</th><th>C</th><th>C++</th><th>Zig</th></tr></thead><tbody>
<tr><td><strong>ç›¸å¯¹ C æ€§èƒ½</strong></td><td>93%</td><td>82%</td><td>100%</td><td>97%</td><td>98%</td></tr>
<tr><td><strong>Binary ä½“ç§¯</strong></td><td>ğŸ”´ å¤§ (~1.8MB)</td><td>ğŸŸ¢ å° (~1.1MB)</td><td>ğŸŸ¢ å° (~1.0MB)</td><td>ğŸŸ¡ ä¸­ (~1.1MB)</td><td>ğŸŸ¢ å° (~1.0MB)</td></tr>
<tr><td><strong>å†…å­˜å ç”¨</strong></td><td>ğŸ”´ é«˜ (~180KB)</td><td>ğŸŸ¢ ä½ (~100KB)</td><td>ğŸŸ¢ ä½ (~120KB)</td><td>ğŸŸ¡ ä¸­ (~140KB)</td><td>ğŸŸ¢ ä½ (~120KB)</td></tr>
<tr><td><strong>åŠŸè€—</strong></td><td>ğŸŸ¡ ä¸€èˆ¬</td><td>ğŸŸ¢ æœ€ä¼˜</td><td>ğŸŸ¡ ä¸€èˆ¬</td><td>ğŸŸ¡ ä¸€èˆ¬</td><td>ğŸŸ¡ ä¸€èˆ¬</td></tr>
<tr><td><strong>åŒæ ¸ SMP</strong></td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
<tr><td><strong>å†…å­˜å®‰å…¨</strong></td><td>ğŸŸ¢ ç¼–è¯‘æ—¶</td><td>ğŸŸ¢ ç¼–è¯‘æ—¶</td><td>ğŸ”´ æ— </td><td>ğŸŸ¡ éƒ¨åˆ†</td><td>ğŸŸ¡ è¿è¡Œæ—¶</td></tr>
<tr><td><strong>C äº’æ“ä½œ</strong></td><td>ğŸŸ¡ FFI</td><td>ğŸ”´ å›°éš¾</td><td>âœ… åŸç”Ÿ</td><td>âœ… åŸç”Ÿ</td><td>âœ… åŸç”Ÿ</td></tr>
<tr><td><strong>ç¼–è¯‘é€Ÿåº¦</strong></td><td>ğŸ”´ æ…¢</td><td>ğŸ”´ æ…¢</td><td>ğŸŸ¢ å¿«</td><td>ğŸŸ¢ å¿«</td><td>ğŸŸ¢ å¿«</td></tr>
<tr><td><strong>ç”Ÿæ€æˆç†Ÿåº¦</strong></td><td>ğŸŸ¢ å®Œæ•´</td><td>ğŸŸ¡ æˆé•¿ä¸­</td><td>ğŸŸ¢ æœ€å®Œæ•´</td><td>ğŸŸ¢ å®Œæ•´</td><td>ğŸ”´ éœ€è‡ªå»º</td></tr>
<tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>ğŸŸ¡ é™¡å³­</td><td>ğŸŸ¡ é™¡å³­</td><td>ğŸŸ¢ å¹³ç¼“</td><td>ğŸŸ¡ ä¸­ç­‰</td><td>ğŸŸ¡ ä¸­ç­‰</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="è¯¦ç»†å¯¹æ¯”"><a class="header" href="#è¯¦ç»†å¯¹æ¯”">è¯¦ç»†å¯¹æ¯”</a></h2>
<h3 id="1-æ€§èƒ½å¯¹æ¯”"><a class="header" href="#1-æ€§èƒ½å¯¹æ¯”">1. æ€§èƒ½å¯¹æ¯”</a></h3>
<pre><code>æ€§èƒ½åŸºå‡† (ç›¸å¯¹ C = 100):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ C           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%          â”‚
â”‚ Zig         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ 98%           â”‚
â”‚ C++         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ 97%           â”‚
â”‚ esp-rs      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ   93%           â”‚
â”‚ Embassy     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     82%           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>æŒ‡æ ‡</th><th>esp-rs</th><th>Embassy</th><th>C</th><th>C++</th><th>Zig</th></tr></thead><tbody>
<tr><td><strong>CPU åˆ©ç”¨ç‡</strong></td><td>åŒæ ¸ 100%</td><td>å•æ ¸ 100%</td><td>åŒæ ¸ 100%</td><td>åŒæ ¸ 100%</td><td>åŒæ ¸ 100%</td></tr>
<tr><td><strong>ä»»åŠ¡åˆ‡æ¢</strong></td><td>~1-5 Î¼s</td><td>~0.1-0.5 Î¼s</td><td>~1-5 Î¼s</td><td>~1-5 Î¼s</td><td>~1-5 Î¼s</td></tr>
<tr><td><strong>ä¸­æ–­å»¶è¿Ÿ</strong></td><td>~2-10 Î¼s</td><td>~0.5-2 Î¼s</td><td>~2-10 Î¼s</td><td>~2-10 Î¼s</td><td>~2-10 Î¼s</td></tr>
<tr><td><strong>ç½‘ç»œåå</strong></td><td>15-20 Mbps</td><td>8-12 Mbps</td><td>20 Mbps</td><td>18-20 Mbps</td><td>18-20 Mbps</td></tr>
<tr><td><strong>å‡½æ•°è°ƒç”¨å¼€é”€</strong></td><td>~5-10%</td><td>é›¶</td><td>é›¶</td><td>~2-3%</td><td>é›¶</td></tr>
</tbody></table>
</div>
<h3 id="2-å†…å­˜å ç”¨å¯¹æ¯”"><a class="header" href="#2-å†…å­˜å ç”¨å¯¹æ¯”">2. å†…å­˜å ç”¨å¯¹æ¯”</a></h3>
<pre><code>ESP32-S3 å†…å­˜ä½¿ç”¨ (Hello World + WiFi):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–¹æ¡ˆ          â”‚ é™æ€å†…å­˜  â”‚ å †ä½¿ç”¨   â”‚ æ ˆ/ä»»åŠ¡  â”‚ æ€»è®¡      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Embassy       â”‚ 10 KB    â”‚ 50 KB   â”‚ 30 KB   â”‚ ~90 KB    â”‚
â”‚ C             â”‚ 35 KB    â”‚ 80 KB   â”‚ 50 KB   â”‚ ~165 KB   â”‚
â”‚ Zig           â”‚ 25 KB    â”‚ 75 KB   â”‚ 55 KB   â”‚ ~155 KB   â”‚
â”‚ C++           â”‚ 45 KB    â”‚ 90 KB   â”‚ 55 KB   â”‚ ~190 KB   â”‚
â”‚ esp-rs        â”‚ 60 KB    â”‚ 120 KB  â”‚ 60 KB   â”‚ ~240 KB   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="3-äºŒè¿›åˆ¶ä½“ç§¯å¯¹æ¯”"><a class="header" href="#3-äºŒè¿›åˆ¶ä½“ç§¯å¯¹æ¯”">3. äºŒè¿›åˆ¶ä½“ç§¯å¯¹æ¯”</a></h3>
<pre><code>Binary å¤§å° (å®Œæ•´éŸ³é¢‘åº”ç”¨):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ C                  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ~1.0 MB               â”‚
â”‚ Zig                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ~1.0 MB               â”‚
â”‚ Embassy            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ~1.1 MB             â”‚
â”‚ C++                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ~1.1 MB             â”‚
â”‚ esp-rs + FreeRTOS  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ~1.8 MB   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="4-åŠŸè€—å¯¹æ¯”"><a class="header" href="#4-åŠŸè€—å¯¹æ¯”">4. åŠŸè€—å¯¹æ¯”</a></h3>
<div class="table-wrapper"><table><thead><tr><th>æ¨¡å¼</th><th>esp-rs</th><th>Embassy</th><th>C</th><th>C++</th><th>Zig</th></tr></thead><tbody>
<tr><td><strong>Active 240MHz</strong></td><td>~100 mA</td><td>~90 mA</td><td>~95 mA</td><td>~95 mA</td><td>~95 mA</td></tr>
<tr><td><strong>Active 80MHz</strong></td><td>~45 mA</td><td>~40 mA</td><td>~43 mA</td><td>~43 mA</td><td>~43 mA</td></tr>
<tr><td><strong>Light Sleep</strong></td><td>~0.8 mA</td><td>~0.4 mA</td><td>~0.8 mA</td><td>~0.8 mA</td><td>~0.8 mA</td></tr>
<tr><td><strong>Deep Sleep</strong></td><td>~15 Î¼A</td><td>~10 Î¼A</td><td>~15 Î¼A</td><td>~15 Î¼A</td><td>~15 Î¼A</td></tr>
<tr><td><strong>å”¤é†’å»¶è¿Ÿ</strong></td><td>~3-5 ms</td><td>~0.5-1 ms</td><td>~3-5 ms</td><td>~3-5 ms</td><td>~3-5 ms</td></tr>
</tbody></table>
</div>
<p>Embassy åŠŸè€—æœ€ä¼˜çš„åŸå› ï¼š</p>
<ul>
<li>æ—  FreeRTOS tick ä¸­æ–­</li>
<li>å¼‚æ­¥æ‰§è¡Œå™¨å¤©ç„¶æ”¯æŒ idle = sleep</li>
<li>æ— ä»»åŠ¡æ ˆå¼€é”€</li>
</ul>
<h3 id="5-å®‰å…¨æ€§å¯¹æ¯”"><a class="header" href="#5-å®‰å…¨æ€§å¯¹æ¯”">5. å®‰å…¨æ€§å¯¹æ¯”</a></h3>
<div class="table-wrapper"><table><thead><tr><th>é—®é¢˜ç±»å‹</th><th>C</th><th>C++</th><th>Zig</th><th>Rust (esp-rs/Embassy)</th></tr></thead><tbody>
<tr><td><strong>ç¼“å†²åŒºæº¢å‡º</strong></td><td>âŒ</td><td>âš ï¸</td><td>ğŸŸ¢ è¿è¡Œæ—¶</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>æ•°ç»„è¶Šç•Œ</strong></td><td>âŒ</td><td>âš ï¸</td><td>ğŸŸ¢ è¿è¡Œæ—¶</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>ç©ºæŒ‡é’ˆè§£å¼•ç”¨</strong></td><td>âŒ</td><td>âš ï¸</td><td>ğŸŸ¢ ç¼–è¯‘æ—¶</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>Use-after-free</strong></td><td>âŒ</td><td>âš ï¸</td><td>âš ï¸ éƒ¨åˆ†</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>åŒé‡é‡Šæ”¾</strong></td><td>âŒ</td><td>ğŸŸ¢</td><td>ğŸŸ¢ è¿è¡Œæ—¶</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>å†…å­˜æ³„æ¼</strong></td><td>âŒ</td><td>ğŸŸ¢</td><td>ğŸŸ¢ æ£€æµ‹</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>æ•°æ®ç«äº‰</strong></td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
<tr><td><strong>æ•´æ•°æº¢å‡º</strong></td><td>âŒ</td><td>âŒ</td><td>ğŸŸ¢ è¿è¡Œæ—¶</td><td>âš ï¸ Debug</td></tr>
<tr><td><strong>æœªåˆå§‹åŒ–å†…å­˜</strong></td><td>âŒ</td><td>âŒ</td><td>ğŸŸ¢ å¼ºåˆ¶</td><td>âœ… ç¼–è¯‘æ—¶</td></tr>
</tbody></table>
</div>
<pre><code>å›¾ä¾‹:
âŒ = ä¸é˜²æŠ¤
âš ï¸ = éƒ¨åˆ†é˜²æŠ¤ (éœ€æ­£ç¡®ä½¿ç”¨)
ğŸŸ¢ = è¿è¡Œæ—¶é˜²æŠ¤ (å¯æ£€æµ‹/å¯å…³é—­)
âœ… = ç¼–è¯‘æ—¶é˜²æŠ¤ (æ— æ³•ç»•è¿‡)
</code></pre>
<h4 id="zig-å®‰å…¨æ€§è¯¦è§£"><a class="header" href="#zig-å®‰å…¨æ€§è¯¦è§£">Zig å®‰å…¨æ€§è¯¦è§£</a></h4>
<p>Zig æä¾›äº†å¯é…ç½®çš„å®‰å…¨æ£€æŸ¥ï¼š</p>
<div class="table-wrapper"><table><thead><tr><th>ç¼–è¯‘æ¨¡å¼</th><th>è¾¹ç•Œæ£€æŸ¥</th><th>æº¢å‡ºæ£€æŸ¥</th><th>æ€§èƒ½å½±å“</th></tr></thead><tbody>
<tr><td>Debug</td><td>âœ…</td><td>âœ…</td><td>~20%</td></tr>
<tr><td>ReleaseSafe</td><td>âœ…</td><td>âœ…</td><td>~5-10%</td></tr>
<tr><td>ReleaseFast</td><td>âŒ</td><td>âŒ</td><td>0%</td></tr>
<tr><td>ReleaseSmall</td><td>âŒ</td><td>âŒ</td><td>0%</td></tr>
</tbody></table>
</div>
<h3 id="6-c-äº’æ“ä½œæ€§å¯¹æ¯”"><a class="header" href="#6-c-äº’æ“ä½œæ€§å¯¹æ¯”">6. C äº’æ“ä½œæ€§å¯¹æ¯”</a></h3>
<div class="table-wrapper"><table><thead><tr><th>ç»´åº¦</th><th>esp-rs</th><th>Embassy</th><th>C</th><th>C++</th><th>Zig</th></tr></thead><tbody>
<tr><td><strong>è°ƒç”¨ ESP-IDF</strong></td><td>FFI</td><td>å›°éš¾</td><td>åŸç”Ÿ</td><td>åŸç”Ÿ</td><td><strong>åŸç”Ÿ</strong></td></tr>
<tr><td><strong>è°ƒç”¨ esp_afe</strong></td><td>âš ï¸ bindgen</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td><strong>âœ…</strong></td></tr>
<tr><td><strong>è°ƒç”¨ LVGL</strong></td><td>lvgl-rs</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td><strong>âœ…</strong></td></tr>
<tr><td><strong>å¤´æ–‡ä»¶å¯¼å…¥</strong></td><td>bindgen</td><td>âŒ</td><td>åŸç”Ÿ</td><td>åŸç”Ÿ</td><td><strong>@cImport</strong></td></tr>
</tbody></table>
</div>
<h4 id="ä»£ç ç¤ºä¾‹å¯¹æ¯”"><a class="header" href="#ä»£ç ç¤ºä¾‹å¯¹æ¯”">ä»£ç ç¤ºä¾‹å¯¹æ¯”</a></h4>
<p><strong>esp-rs è°ƒç”¨ C åº“ï¼š</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use esp_idf_sys::*;

unsafe {
    let config = afe_config_t { ..Default::default() };
    let afe = esp_afe_create(&amp;config as *const _);
    esp_afe_process(afe, buffer.as_mut_ptr());
}
<span class="boring">}</span></code></pre></pre>
<p><strong>Zig è°ƒç”¨ C åº“ï¼š</strong></p>
<pre><code class="language-zig">const c = @cImport({
    @cInclude("esp_afe_sr_iface.h");
});

var config = c.afe_config_t{};
const afe = c.esp_afe_create(&amp;config);
c.esp_afe_process(afe, &amp;buffer);  // é›¶å¼€é”€ï¼Œä¸ C å®Œå…¨ç›¸åŒ
</code></pre>
<h3 id="7-å¼€å‘ä½“éªŒå¯¹æ¯”"><a class="header" href="#7-å¼€å‘ä½“éªŒå¯¹æ¯”">7. å¼€å‘ä½“éªŒå¯¹æ¯”</a></h3>
<div class="table-wrapper"><table><thead><tr><th>ç»´åº¦</th><th>esp-rs</th><th>Embassy</th><th>C</th><th>C++</th><th>Zig</th></tr></thead><tbody>
<tr><td><strong>ç¼–è¯‘é€Ÿåº¦</strong></td><td>ğŸ”´ 2-3 min</td><td>ğŸ”´ 1-2 min</td><td>ğŸŸ¢ 30s</td><td>ğŸŸ¢ 30s</td><td>ğŸŸ¢ 20-40s</td></tr>
<tr><td><strong>é”™è¯¯æç¤º</strong></td><td>ğŸŸ¢ ä¼˜ç§€</td><td>ğŸŸ¢ ä¼˜ç§€</td><td>ğŸ”´ å·®</td><td>ğŸŸ¡ ä¸­ç­‰</td><td>ğŸŸ¢ è‰¯å¥½</td></tr>
<tr><td><strong>IDE æ”¯æŒ</strong></td><td>ğŸŸ¢ ä¼˜ç§€</td><td>ğŸŸ¢ ä¼˜ç§€</td><td>ğŸŸ¢ å¥½</td><td>ğŸŸ¢ å¥½</td><td>ğŸŸ¡ ä¸€èˆ¬</td></tr>
<tr><td><strong>è°ƒè¯•</strong></td><td>ğŸŸ¢ GDB</td><td>ğŸŸ¡ probe-rs</td><td>ğŸŸ¢ GDB</td><td>ğŸŸ¢ GDB</td><td>ğŸŸ¡ GDB</td></tr>
<tr><td><strong>æ–‡æ¡£</strong></td><td>ğŸŸ¢ ä¸°å¯Œ</td><td>ğŸŸ¡ æˆé•¿ä¸­</td><td>ğŸŸ¢ æœ€å®Œæ•´</td><td>ğŸŸ¢ ä¸°å¯Œ</td><td>ğŸ”´ ç¨€ç¼º</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="å„æ–¹æ¡ˆè¯¦è§£"><a class="header" href="#å„æ–¹æ¡ˆè¯¦è§£">å„æ–¹æ¡ˆè¯¦è§£</a></h2>
<h3 id="esp-rs--freertos-std"><a class="header" href="#esp-rs--freertos-std">esp-rs + FreeRTOS (std)</a></h3>
<p><strong>æŠ€æœ¯æ ˆï¼š</strong> Rust + ESP-IDF + FreeRTOS</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… å†…å­˜å®‰å…¨ï¼ˆç¼–è¯‘æ—¶æ£€æŸ¥ï¼‰</li>
<li>âœ… å®Œæ•´çš„ç”Ÿæ€ç³»ç»Ÿ</li>
<li>âœ… åŒæ ¸ SMP æ”¯æŒ</li>
<li>âœ… æ´»è·ƒçš„ç¤¾åŒºæ”¯æŒ</li>
<li>âœ… ä¸°å¯Œçš„æ–‡æ¡£</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>âŒ Binary ä½“ç§¯å¤§ï¼ˆ~1.8 MBï¼‰</li>
<li>âŒ å†…å­˜å ç”¨é«˜ï¼ˆ~180 KBï¼‰</li>
<li>âŒ ç¼–è¯‘é€Ÿåº¦æ…¢</li>
<li>âŒ FFI è°ƒç”¨æœ‰å¼€é”€</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å†…å­˜/Flash å……è¶³çš„é¡¹ç›®</li>
<li>éœ€è¦æœ€é«˜å®‰å…¨æ€§ä¿è¯</li>
<li>å›¢é˜Ÿç†Ÿæ‚‰ Rust</li>
</ul>
<h3 id="embassy-no_std-async"><a class="header" href="#embassy-no_std-async">Embassy (no_std async)</a></h3>
<p><strong>æŠ€æœ¯æ ˆï¼š</strong> Rust + embassy-executor</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… Binary æœ€å°</li>
<li>âœ… å†…å­˜å ç”¨æœ€ä½</li>
<li>âœ… åŠŸè€—æœ€ä¼˜</li>
<li>âœ… å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>âŒ <strong>ä¸æ”¯æŒåŒæ ¸</strong></li>
<li>âŒ C äº’æ“ä½œå›°éš¾</li>
<li>âŒ æ— æ³•è°ƒç”¨ esp_afe ç­‰é—­æºåº“</li>
<li>âŒ ç”Ÿæ€ä»åœ¨æˆé•¿</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ç®€å•ä¼ æ„Ÿå™¨èŠ‚ç‚¹</li>
<li>æè‡´åŠŸè€—æ•æ„Ÿçš„ç”µæ± è®¾å¤‡</li>
<li>ä¸éœ€è¦åŒæ ¸è®¡ç®—</li>
</ul>
<h3 id="c--esp-idf"><a class="header" href="#c--esp-idf">C + ESP-IDF</a></h3>
<p><strong>æŠ€æœ¯æ ˆï¼š</strong> C + FreeRTOS</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… æ€§èƒ½æœ€ä¼˜ï¼ˆbaselineï¼‰</li>
<li>âœ… ç”Ÿæ€æœ€å®Œæ•´</li>
<li>âœ… æ–‡æ¡£æœ€ä¸°å¯Œ</li>
<li>âœ… æ‰€æœ‰åº“åŸç”Ÿæ”¯æŒ</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>âŒ æ— å†…å­˜å®‰å…¨ä¿æŠ¤</li>
<li>âŒ å¼€å‘æ•ˆç‡è¾ƒä½</li>
<li>âŒ å®¹æ˜“å‡ºç°å†…å­˜ bug</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ€§èƒ½æè‡´è¦æ±‚</li>
<li>å›¢é˜Ÿç†Ÿæ‚‰ C</li>
<li>éœ€è¦ä½¿ç”¨æ‰€æœ‰ ESP-IDF åŠŸèƒ½</li>
</ul>
<h3 id="c--esp-idf-1"><a class="header" href="#c--esp-idf-1">C++ + ESP-IDF</a></h3>
<p><strong>æŠ€æœ¯æ ˆï¼š</strong> C++ (17/20) + FreeRTOS</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… æ€§èƒ½æ¥è¿‘ Cï¼ˆ97%ï¼‰</li>
<li>âœ… RAII é˜²æ­¢èµ„æºæ³„æ¼</li>
<li>âœ… é¢å‘å¯¹è±¡è®¾è®¡</li>
<li>âœ… ä¸ ESP-IDF å®Œç¾å…¼å®¹</li>
<li>âœ… å­¦ä¹ æˆæœ¬é€‚ä¸­</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>âŒ æ— å€Ÿç”¨æ£€æŸ¥ï¼ˆæ•°æ®ç«äº‰ä¸é˜²æŠ¤ï¼‰</li>
<li>âŒ æ¨¡æ¿è†¨èƒ€å¯èƒ½å¢åŠ ä½“ç§¯</li>
<li>âŒ å¼‚å¸¸/RTTI é»˜è®¤ç¦ç”¨</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>éœ€è¦ OOP è®¾è®¡æ¨¡å¼</li>
<li>å›¢é˜Ÿç†Ÿæ‚‰ C++</li>
<li>æƒ³è¦æ¯” C æ›´å¥½çš„å®‰å…¨æ€§</li>
</ul>
<h3 id="zig--freertos"><a class="header" href="#zig--freertos">Zig + FreeRTOS</a></h3>
<p><strong>æŠ€æœ¯æ ˆï¼š</strong> Zig + ESP-IDF + FreeRTOS</p>
<p><strong>å‰ææ¡ä»¶ï¼š</strong> éœ€è¦ä½¿ç”¨ <a href="https://github.com/haivivi/zig-bootstrap">haivivi/zig-bootstrap</a> æ„å»ºæ”¯æŒ Xtensa çš„ Zig ç¼–è¯‘å™¨ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… æ€§èƒ½æ¥è¿‘ Cï¼ˆ98%ï¼‰</li>
<li>âœ… Binary ä½“ç§¯å°ï¼ˆ~1.0 MBï¼‰</li>
<li>âœ… å†…å­˜å ç”¨ä½ï¼ˆ~120 KBï¼‰</li>
<li>âœ… C äº’æ“ä½œæœ€ä½³ï¼ˆ@cImport é›¶å¼€é”€ï¼‰</li>
<li>âœ… ç¼–è¯‘é€Ÿåº¦å¿«</li>
<li>âœ… åŒæ ¸æ”¯æŒ</li>
<li>âœ… è¿è¡Œæ—¶å®‰å…¨æ£€æŸ¥ï¼ˆå¯é…ç½®ï¼‰</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>âŒ ç”Ÿæ€éœ€è¦è‡ªå»º</li>
<li>âŒ ç¤¾åŒºæ”¯æŒå‡ ä¹æ²¡æœ‰</li>
<li>âŒ æ–‡æ¡£ç¨€ç¼º</li>
<li>âŒ æ— ç¼–è¯‘æ—¶å€Ÿç”¨æ£€æŸ¥</li>
<li>âŒ éœ€è¦ç»´æŠ¤ zig-bootstrap</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Flash/å†…å­˜ç´§å¼ çš„é¡¹ç›®</li>
<li>éœ€è¦åŒæ ¸ + é«˜æ€§èƒ½</li>
<li>å¤§é‡è°ƒç”¨ C åº“ï¼ˆesp_afe ç­‰ï¼‰</li>
<li>æ„¿æ„åš DIY å¼€å‘</li>
</ul>
<hr />
<h2 id="å†³ç­–å»ºè®®"><a class="header" href="#å†³ç­–å»ºè®®">å†³ç­–å»ºè®®</a></h2>
<h3 id="å†³ç­–æµç¨‹å›¾"><a class="header" href="#å†³ç­–æµç¨‹å›¾">å†³ç­–æµç¨‹å›¾</a></h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      é€‰æ‹©å†³ç­–æ ‘                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Flash/å†…å­˜ç´§å¼ ? â”€â”€â”€â”€â”€â”€â”€Yesâ”€â”€â”€â”€&gt; ç»§ç»­ä¸‹é¢                   â”‚
â”‚        â”‚                                                    â”‚
â”‚       No â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; esp-rs + FreeRTOS          â”‚
â”‚                                                             â”‚
â”‚  éœ€è¦åŒæ ¸? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Yesâ”€â”€â”€â”€&gt; ç»§ç»­ä¸‹é¢                   â”‚
â”‚        â”‚                                                    â”‚
â”‚       No â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; Embassy                    â”‚
â”‚                                                             â”‚
â”‚  å¤§é‡è°ƒç”¨ C åº“? â”€â”€â”€â”€â”€â”€â”€â”€Yesâ”€â”€â”€â”€&gt; Zig + FreeRTOS æˆ– C/C++   â”‚
â”‚        â”‚                                                    â”‚
â”‚       No                                                    â”‚
â”‚        â”‚                                                    â”‚
â”‚  å›¢é˜Ÿç†Ÿæ‚‰ Rust? â”€â”€â”€â”€â”€â”€â”€â”€Yesâ”€â”€â”€â”€&gt; esp-rs (æƒ³åŠæ³•ä¼˜åŒ–ä½“ç§¯)    â”‚
â”‚        â”‚                                                    â”‚
â”‚       No                                                    â”‚
â”‚        â”‚                                                    â”‚
â”‚  æ„¿æ„ DIY æ¢é™©? â”€â”€â”€â”€â”€â”€â”€â”€Yesâ”€â”€â”€â”€&gt; Zig + FreeRTOS             â”‚
â”‚        â”‚                                                    â”‚
â”‚       No â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt; C++ + ESP-IDF              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="åœºæ™¯æ¨è"><a class="header" href="#åœºæ™¯æ¨è">åœºæ™¯æ¨è</a></h3>
<div class="table-wrapper"><table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>åŸå› </th></tr></thead><tbody>
<tr><td><strong>é€šç”¨ IoT è®¾å¤‡</strong></td><td>esp-rs + FreeRTOS</td><td>å®‰å…¨ + ç”Ÿæ€å®Œæ•´</td></tr>
<tr><td><strong>ç”µæ± ä¾›ç”µä¼ æ„Ÿå™¨</strong></td><td>Embassy</td><td>åŠŸè€—æœ€ä¼˜</td></tr>
<tr><td><strong>éŸ³é¢‘å¤„ç†è®¾å¤‡</strong></td><td>Zig æˆ– C</td><td>éœ€è¦åŒæ ¸ + ä½å»¶è¿Ÿ</td></tr>
<tr><td><strong>èµ„æºç´§å¼ è®¾å¤‡</strong></td><td>Zig æˆ– C</td><td>ä½“ç§¯å° + å†…å­˜ä½</td></tr>
<tr><td><strong>å¿«é€ŸåŸå‹å¼€å‘</strong></td><td>C++</td><td>å¼€å‘æ•ˆç‡ + æ€§èƒ½å¹³è¡¡</td></tr>
<tr><td><strong>è°ƒç”¨é—­æº C åº“</strong></td><td>Zig æˆ– C/C++</td><td>C äº’æ“ä½œæœ€ä½³</td></tr>
</tbody></table>
</div>
<h3 id="è¯­éŸ³-iot-è®¾å¤‡æ¨è"><a class="header" href="#è¯­éŸ³-iot-è®¾å¤‡æ¨è">è¯­éŸ³ IoT è®¾å¤‡æ¨è</a></h3>
<p>é’ˆå¯¹éœ€è¦ä»¥ä¸‹åŠŸèƒ½çš„è¯­éŸ³è®¾å¤‡ï¼š</p>
<ul>
<li>I2S éŸ³é¢‘è¾“å…¥è¾“å‡º</li>
<li>Opus ç¼–è§£ç </li>
<li>AEC å›å£°æ¶ˆé™¤ï¼ˆesp_afeï¼‰</li>
<li>BLE é€šä¿¡</li>
<li>LVGL GUI</li>
<li>åŒæ ¸å¤„ç†</li>
</ul>
<p><strong>çº¦æŸæ¡ä»¶åˆ†æï¼š</strong></p>
<div class="table-wrapper"><table><thead><tr><th>çº¦æŸ</th><th>esp-rs</th><th>Embassy</th><th>C</th><th>C++</th><th>Zig</th></tr></thead><tbody>
<tr><td>Flash ç´§å¼ </td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
<tr><td>å†…å­˜ç´§å¼ </td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
<tr><td>éœ€è¦åŒæ ¸</td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
<tr><td>esp_afe è°ƒç”¨</td><td>âš ï¸</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
<tr><td>LVGL GUI</td><td>âœ…</td><td>âŒ</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr>
</tbody></table>
</div>
<p><strong>æ¨èæ’åºï¼š</strong></p>
<ol>
<li>ğŸ¥‡ <strong>Zig + FreeRTOS</strong> - ä½“ç§¯å°ã€æ€§èƒ½é«˜ã€C äº’æ“ä½œæœ€ä½³</li>
<li>ğŸ¥ˆ <strong>C++ + ESP-IDF</strong> - æˆç†Ÿç¨³å®šã€RAII å®‰å…¨</li>
<li>ğŸ¥‰ <strong>C + ESP-IDF</strong> - æ€§èƒ½æœ€ä¼˜ã€ä½†å¼€å‘æ•ˆç‡ä½</li>
</ol>
<hr />
<h2 id="rust-rtos-ç”Ÿæ€è°ƒç ”"><a class="header" href="#rust-rtos-ç”Ÿæ€è°ƒç ”">Rust RTOS ç”Ÿæ€è°ƒç ”</a></h2>
<div class="table-wrapper"><table><thead><tr><th>RTOS</th><th>ç±»å‹</th><th>ESP32 æ”¯æŒ</th><th>åŒæ ¸æ”¯æŒ</th><th>çŠ¶æ€</th></tr></thead><tbody>
<tr><td><strong>RTIC</strong></td><td>ä¸­æ–­é©±åŠ¨æ¡†æ¶</td><td>âŒ ä»… ARM</td><td>âŒ</td><td>æ´»è·ƒ</td></tr>
<tr><td><strong>Embassy</strong></td><td>async æ‰§è¡Œå™¨</td><td>âœ…</td><td>âŒ å®éªŒæ€§</td><td>æ´»è·ƒ</td></tr>
<tr><td><strong>Drone OS</strong></td><td>å®æ—¶ OS</td><td>âŒ ä»… ARM</td><td>âŒ</td><td>åŠæ´»è·ƒ</td></tr>
<tr><td><strong>Tock OS</strong></td><td>å®‰å…¨ OS</td><td>âŒ ä»… ARM</td><td>âŒ</td><td>æ´»è·ƒ</td></tr>
<tr><td><strong>Hubris</strong></td><td>å¾®å†…æ ¸</td><td>âŒ ç‰¹å®šç¡¬ä»¶</td><td>âŒ</td><td>Oxide å†…éƒ¨</td></tr>
</tbody></table>
</div>
<p><strong>ç»“è®ºï¼š</strong> ç›®å‰æ²¡æœ‰çº¯ Rust RTOS æ”¯æŒ ESP32 (Xtensa) åŒæ ¸ã€‚</p>
<hr />
<h2 id="å‚è€ƒèµ„æº"><a class="header" href="#å‚è€ƒèµ„æº">å‚è€ƒèµ„æº</a></h2>
<h3 id="å®˜æ–¹æ–‡æ¡£"><a class="header" href="#å®˜æ–¹æ–‡æ¡£">å®˜æ–¹æ–‡æ¡£</a></h3>
<ul>
<li><a href="https://esp-rs.github.io/book/">esp-rs Book</a></li>
<li><a href="https://embassy.dev/">Embassy Documentation</a></li>
<li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/">ESP-IDF Programming Guide</a></li>
<li><a href="https://ziglang.org/documentation/master/">Zig Language Reference</a></li>
</ul>
<h3 id="å·¥å…·é“¾"><a class="header" href="#å·¥å…·é“¾">å·¥å…·é“¾</a></h3>
<ul>
<li><a href="https://github.com/esp-rs/espup">espup</a> - Rust ESP32 å·¥å…·é“¾å®‰è£…å™¨</li>
<li><a href="https://github.com/esp-rs/espflash">espflash</a> - çƒ§å½•å·¥å…·</li>
<li><a href="https://github.com/haivivi/zig-bootstrap">haivivi/zig-bootstrap</a> - Zig Xtensa ç¼–è¯‘å™¨</li>
</ul>
<h3 id="ç¤¾åŒºèµ„æº"><a class="header" href="#ç¤¾åŒºèµ„æº">ç¤¾åŒºèµ„æº</a></h3>
<ul>
<li><a href="https://matrix.to/#/#esp-rs:matrix.org">esp-rs Matrix Chat</a></li>
<li><a href="https://esp32.com/">ESP32 Forum</a></li>
<li><a href="https://discord.gg/zig">Zig Discord</a></li>
</ul>
<hr />
<h2 id="æ›´æ–°è®°å½•"><a class="header" href="#æ›´æ–°è®°å½•">æ›´æ–°è®°å½•</a></h2>
<div class="table-wrapper"><table><thead><tr><th>æ—¥æœŸ</th><th>å†…å®¹</th></tr></thead><tbody>
<tr><td>2026-01-23</td><td>åˆå§‹ç‰ˆæœ¬ï¼Œå¯¹æ¯”äº”ç§å¼€å‘æ–¹æ¡ˆ</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../lib/genx/match/issues.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../esp/esp-rs-migration.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../lib/genx/match/issues.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../esp/esp-rs-migration.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>


    </div>
    </body>
</html>
