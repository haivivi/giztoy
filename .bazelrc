# Build options
build --enable_bzlmod

# Test options
test --test_output=errors

# Exclude manual-tagged targets (e.g. HarmonyOS requires DevEco Studio)
build --build_tag_filters=-manual
test --test_tag_filters=-manual

# Cache
build --disk_cache=~/.cache/bazel

# Platform
build --incompatible_enable_cc_toolchain_resolution

# CC toolchain: Use system clang/gcc
# PATH needed for C compiler (Rust ring crate, Go CGO, etc.)
build --action_env=PATH=/usr/bin:/bin:/usr/sbin:/sbin:/opt/homebrew/bin:/usr/local/bin
build --host_action_env=PATH=/usr/bin:/bin:/usr/sbin:/sbin:/opt/homebrew/bin:/usr/local/bin

# =============================================================================
# User local config
# =============================================================================
# Load user local config (if exists)
# ESP-IDF related config should be placed in .bazelrc.user, see .bazelrc.user.example
try-import %workspace%/.bazelrc.user
