# Build options
build --enable_bzlmod

# Test options
test --test_output=errors

# Exclude manual-tagged targets (e.g. HarmonyOS requires DevEco Studio)
build --build_tag_filters=-manual
test --test_tag_filters=-manual

# Cache (shared across workspaces with embed-zig)
# NOTE: Using same paths as zig-bootstrap for cache sharing
common --repository_cache=~/.cache/bazel-repo
build --disk_cache=~/.cache/bazel

# Platform
build --incompatible_enable_cc_toolchain_resolution

# CC toolchain: Use system clang/gcc and inherit PATH for zig, etc.
# Inherit PATH from environment to allow CI-installed tools (zig, etc.)
build --action_env=PATH
build --host_action_env=PATH

# =============================================================================
# User local config
# =============================================================================
# Load user local config (if exists)
# ESP-IDF related config should be placed in .bazelrc.user, see .bazelrc.user.example
try-import %workspace%/.bazelrc.user
